{"version":3,"sources":["src/ui/components/utils/HackTimer.js"],"names":["workerScript","test","navigator","userAgent","blob","Blob","window","URL","createObjectURL","error","worker","fakeIdToCallback","lastFakeId","maxFakeId","logPrefix","Worker","getFakeId","hasOwnProperty","setInterval","callback","time","fakeId","parameters","Array","prototype","slice","call","arguments","postMessage","name","clearInterval","setTimeout","isTimeout","clearTimeout","onmessage","event","data","request","Function","console","log","apply","onerror"],"mappings":"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","file":"HackTimer.7d39bf74.js","sourceRoot":"..","sourcesContent":["(function (workerScript) {\n\tif (!/MSIE 10/i.test(navigator.userAgent)) {\n\t\ttry {\n\t\t\tvar blob = new Blob([\n\t\t\t\t\"\\\nvar fakeIdToId = {};\\\nonmessage = function (event) {\\\n\tvar data = event.data,\\\n\t\tname = data.name,\\\n\t\tfakeId = data.fakeId,\\\n\t\ttime;\\\n\tif(data.hasOwnProperty('time')) {\\\n\t\ttime = data.time;\\\n\t}\\\n\tswitch (name) {\\\n\t\tcase 'setInterval':\\\n\t\t\tfakeIdToId[fakeId] = setInterval(function () {\\\n\t\t\t\tpostMessage({fakeId: fakeId});\\\n\t\t\t}, time);\\\n\t\t\tbreak;\\\n\t\tcase 'clearInterval':\\\n\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\\\n\t\t\t\tclearInterval(fakeIdToId[fakeId]);\\\n\t\t\t\tdelete fakeIdToId[fakeId];\\\n\t\t\t}\\\n\t\t\tbreak;\\\n\t\tcase 'setTimeout':\\\n\t\t\tfakeIdToId[fakeId] = setTimeout(function () {\\\n\t\t\t\tpostMessage({fakeId: fakeId});\\\n\t\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\\\n\t\t\t\t\tdelete fakeIdToId[fakeId];\\\n\t\t\t\t}\\\n\t\t\t}, time);\\\n\t\t\tbreak;\\\n\t\tcase 'clearTimeout':\\\n\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\\\n\t\t\t\tclearTimeout(fakeIdToId[fakeId]);\\\n\t\t\t\tdelete fakeIdToId[fakeId];\\\n\t\t\t}\\\n\t\t\tbreak;\\\n\t}\\\n}\\\n\",\n\t\t\t]);\n\t\t\t// Obtain a blob URL reference to our worker 'file'.\n\t\t\tworkerScript = window.URL.createObjectURL(blob);\n\t\t} catch (error) {\n\t\t\t/* Blob is not supported, use external script instead */\n\t\t}\n\t}\n\tvar worker,\n\t\tfakeIdToCallback = {},\n\t\tlastFakeId = 0,\n\t\tmaxFakeId = 0x7fffffff, // 2 ^ 31 - 1, 31 bit, positive values of signed 32 bit integer\n\t\tlogPrefix = \"HackTimer.js by turuslan: \";\n\tif (typeof Worker !== \"undefined\") {\n\t\tfunction getFakeId() {\n\t\t\tdo {\n\t\t\t\tif (lastFakeId == maxFakeId) {\n\t\t\t\t\tlastFakeId = 0;\n\t\t\t\t} else {\n\t\t\t\t\tlastFakeId++;\n\t\t\t\t}\n\t\t\t} while (fakeIdToCallback.hasOwnProperty(lastFakeId));\n\t\t\treturn lastFakeId;\n\t\t}\n\t\ttry {\n\t\t\tworker = new Worker(workerScript);\n\t\t\twindow.setInterval = function (callback, time /* , parameters */) {\n\t\t\t\tvar fakeId = getFakeId();\n\t\t\t\tfakeIdToCallback[fakeId] = {\n\t\t\t\t\tcallback: callback,\n\t\t\t\t\tparameters: Array.prototype.slice.call(arguments, 2),\n\t\t\t\t};\n\t\t\t\tworker.postMessage({\n\t\t\t\t\tname: \"setInterval\",\n\t\t\t\t\tfakeId: fakeId,\n\t\t\t\t\ttime: time,\n\t\t\t\t});\n\t\t\t\treturn fakeId;\n\t\t\t};\n\t\t\twindow.clearInterval = function (fakeId) {\n\t\t\t\tif (fakeIdToCallback.hasOwnProperty(fakeId)) {\n\t\t\t\t\tdelete fakeIdToCallback[fakeId];\n\t\t\t\t\tworker.postMessage({\n\t\t\t\t\t\tname: \"clearInterval\",\n\t\t\t\t\t\tfakeId: fakeId,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\twindow.setTimeout = function (callback, time /* , parameters */) {\n\t\t\t\tvar fakeId = getFakeId();\n\t\t\t\tfakeIdToCallback[fakeId] = {\n\t\t\t\t\tcallback: callback,\n\t\t\t\t\tparameters: Array.prototype.slice.call(arguments, 2),\n\t\t\t\t\tisTimeout: true,\n\t\t\t\t};\n\t\t\t\tworker.postMessage({\n\t\t\t\t\tname: \"setTimeout\",\n\t\t\t\t\tfakeId: fakeId,\n\t\t\t\t\ttime: time,\n\t\t\t\t});\n\t\t\t\treturn fakeId;\n\t\t\t};\n\t\t\twindow.clearTimeout = function (fakeId) {\n\t\t\t\tif (fakeIdToCallback.hasOwnProperty(fakeId)) {\n\t\t\t\t\tdelete fakeIdToCallback[fakeId];\n\t\t\t\t\tworker.postMessage({\n\t\t\t\t\t\tname: \"clearTimeout\",\n\t\t\t\t\t\tfakeId: fakeId,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tworker.onmessage = function (event) {\n\t\t\t\tvar data = event.data,\n\t\t\t\t\tfakeId = data.fakeId,\n\t\t\t\t\trequest,\n\t\t\t\t\tparameters,\n\t\t\t\t\tcallback;\n\t\t\t\tif (fakeIdToCallback.hasOwnProperty(fakeId)) {\n\t\t\t\t\trequest = fakeIdToCallback[fakeId];\n\t\t\t\t\tcallback = request.callback;\n\t\t\t\t\tparameters = request.parameters;\n\t\t\t\t\tif (request.hasOwnProperty(\"isTimeout\") && request.isTimeout) {\n\t\t\t\t\t\tdelete fakeIdToCallback[fakeId];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof callback === \"string\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tcallback = new Function(callback);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\tlogPrefix + \"Error parsing callback code string: \",\n\t\t\t\t\t\t\terror\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof callback === \"function\") {\n\t\t\t\t\tcallback.apply(window, parameters);\n\t\t\t\t}\n\t\t\t};\n\t\t\tworker.onerror = function (event) {\n\t\t\t\tconsole.log(event);\n\t\t\t};\n\t\t} catch (error) {\n\t\t\tconsole.log(logPrefix + \"Initialisation failed\");\n\t\t\tconsole.error(error);\n\t\t}\n\t} else {\n\t\tconsole.log(\n\t\t\tlogPrefix + \"Initialisation failed - HTML5 Web Worker is not supported\"\n\t\t);\n\t}\n})(\"HackTimerWorker.js\");\n"]}